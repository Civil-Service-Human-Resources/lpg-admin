{% from "file-upload/macro.njk" import govukFileUpload %}
{% from "radios/macro.njk" import govukRadios %}
{% from "button/macro.njk" import govukButton %}

{% extends "../../component/Page.njk" %}

{% block content %}
<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        <h1 class="govuk-heading-l">Skills</h1>
        <div class="reports-container">
            <ul class="list">
                <li class="list-details">
                    <form action="/content-management/skills" method="post" class="skills-form" enctype="multipart/form-data">
                        <div class="{{classNames}}">
                            {% set typeaheadHtml %}
                            <div class="autocomplete-wrapper">
                                <select name="parent" id="parent">
                                    <option value=""></option>
                                    {% set parent = form.parent|default(organisationalUnit.parent.uri) %}
                                    {% for key in areasOfWork %}
                                    {% if parent === key.href %}
                                    {% set selected='selected' %}
                                    {% else %}
                                    {% set selected='' %}
                                    {% endif %}
                                    <option value="{{ key.name }}" {{ selected }}>{{ key.formattedName }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            {% endset -%}
                            {{ govukRadios({
                                idPrefix: "areaOfWork",
                                name: "areaOfWork",
                                fieldset: {
                                    legend: {
                                        text: "Which area of work?",
                                        isPageHeading: true,
                                        classes: "govuk-fieldset__legend--s "
                                    }
                                },
                                items: [
                                    {
                                        value: "selected",
                                        text: "Selected professions only",
                                        id: "selected",
                                            conditional: {
                                            html: typeaheadHtml
                                            }
                                    }
                                ]
                            }) }}
                            {{ govukFileUpload({
                                id: "file",
                                name: "file",
                                label: {
                                    text: "Upload a file"
                                }
                            }) }}
                        </div>
                        <div class="button-container">
                            {{ govukButton({
                                text: "Continue"
                            }) }}
                        </div>
                    </form>
                </li>
                <li class="course list-details u--border--bgrey">
                </li>
            </ul>
        </div>
    </div>
</div>
{% endblock %}

{% block bodyEnd %}
<script src="/govuk-frontend/all.js"></script>
<script>window.GOVUKFrontend.initAll()</script>
<script type="text/javascript" src="/js/accessible-autocomplete.min.js"></script>
<script type="text/javascript" src="/js/manage-orgs.js"></script>
{% endblock %}