{% from "select/macro.njk" import govukSelect %}
{% from "button/macro.njk" import govukButton %}

{% extends "../../../../component/Page.njk" %}

{% block pageTitle %}{{ i18n.event.title.cancel }} - {{ i18n['proposition_name'] }}{% endblock %}

{% set banner = true %}
{% if event %}
{% set backButton = "/content-management/courses/" + courseId + "/modules/" + moduleId + "/events-overview/" + event.id %}
{% else %}
{% set backButton = "/content-management/courses/" + courseId + "/overview" %}
{% endif %}

{% block content %}

{% set errors = sessionFlash.errors %}
{{ errorSummary(errors.fields) }}
<div class="govuk-grid-row">
    <div class="govuk-grid-column-full">
        <h1 class="govuk-heading-l no-margin">Cancel event</h1>
        <p class="govuk-body">This event is for the <strong>{{module.title | default("Module title", true)}}</strong> module on the <a href="/content-management/courses/{{courseId}}/overview" class="govuk-link">{{course.title}}</a> course</p>
        <p class="govuk-body no-margin">Cancelling an event will notify attendeed by email and refund any paid POs.
        <p class="govuk-body">The event will be labelled as cancelled.</p>
        <p class="govuk-body">This cannot be undone</p>
        <form action="{{'/content-management/courses/' + courseId + '/modules/' + moduleId + '/events/' + event.id + '/cancel'}}" method="post">
            <input type="hidden" value="{{event.id}}" name="id">
            {{ govukSelect({
            id: "cancellationReason",
            name: "cancellationReason",
            label: {
            text: "Cancellation reason"
            },
            items: [
            {
            value: "",
            text: "Choose a cancellation reason",
            selected: true
            },
            {
            value: "reason1",
            text: "Hard coded Reason 1"
            },
            {
            value: "reason2",
            text: "Hard coded Reason 2"
            },
            {
            value: "reason3",
            text: "Hard coded Reason 3"
            }
            ]
            }) }}
            <div class="button-container">
                {{ govukButton({
                text: "Cancel event",
                classes: "button-red"
                }) }}
            </div>
        </form>
    </div>
</div>

{% endblock %}