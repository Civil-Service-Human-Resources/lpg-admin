{% from "../component/list/macro.njk" import list %}
{% from "../component/menu/macro.njk" import menu %}
{% from "../component/course-details/macro.njk" import courseDetails with context %}
{% from "back-link/macro.njk" import govukBackLink %}

{% extends "../component/Page.njk" %}

{% block pageTitle %}{{ i18n['course_overview_title'] }} - {{ i18n['proposition_name'] }}{% endblock %}

{% block beforeContent %}
  {% block phaseBanner %}
    {{ phaseBanner("beta") }}
  {% endblock%}
  {% block backLink %}
    {{ backLink("/content-management") }}
  {% endblock%}
{% endblock %}

{% block content %}
<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        <h1 class="govuk-heading-l">{{ course.title }}</h1>
        {% set courseAddedSuccessMessage = sessionFlash.courseAddedSuccessMessage%}

        {% if courseAddedSuccessMessage %}
        <div class="panel govuk-panel govuk-panel--confirmation">
            <div class="govuk-panel__body custom-panel">
                <p class="govuk-body"><strong>{{ course.title }}</strong>{{ i18n[courseAddedSuccessMessage] }}</p>
            </div>
        </div>
        {% endif %}
        <h3 class="govuk-heading-m">Course Overview</h3>
        {% block courseDetails %}
            {{ courseDetails(course) }}
        {% endblock %} 
    </div>

    <div class="govuk-grid-column-one-third">
        <div class="right-menu">
            {% block menu %}
                {% set actions = [
                    {
                        link: '/content-management/course-preview/' + course.id ,
                        text: 'Preview and edit'
                    }
                ] %}
                {{ menu("Actions", actions) }}
            {% endblock %}
        </div>
    </div>
</div>
{% endblock %}