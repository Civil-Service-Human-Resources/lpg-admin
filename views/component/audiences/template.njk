{% from "details/macro.njk" import govukDetails %}
{% if course.audiences.length > 0 %}
    <ul class="audience-list">
        {% for audience in course.audiences %}

        {% set audienceHTML = '<ul class="list audience">
                <li class="audience-item u--border--bgrey"><span class="audience-header">Course type</span><span>'+(audience.type | default("Unspecified", true))+'</span></li>
                <li class="audience-item u--border--bgrey"><span class="audience-header">Organisations</span><span>'+(audience.organisations | default("Unspecified", true))+'</span></li>
                <li class="audience-item u--border--bgrey"><span class="audience-header">Grades</span><span>'+(audience.grades | default("Unspecified", true))+'</span></li>
                <li class="audience-item u--border--bgrey"><span class="audience-header">Area of work</span><span>'+(audience.areasOFWork | default("Unspecified", true))+'</span></li>
                <li class="audience-item u--border--bgrey"><span class="audience-header">Interests</span><span>'+(audience.interests | default("Unspecified", true))+'</span></li>
            </ul>'
        -%}
            <li class="list-item">
                <div class="title-container">
                    <h3 class="govuk-heading-m">{{ audience.name | default("Audience", true) }}</h3>
                    <a class="govuk-body govuk-link" href="/content-management/courses/{{course.id}}/audiences/{{audience.id}}/delete">Remove</a>
                </div>
                {{ govukDetails({
                    summaryText: 'View audience details',
                    html: audienceHTML
                }) }}
            </li>
        {% endfor %}
    </ul>
{% else %}
    <p class="govuk-body">This course has no audiences yet.</p>
{% endif %}
